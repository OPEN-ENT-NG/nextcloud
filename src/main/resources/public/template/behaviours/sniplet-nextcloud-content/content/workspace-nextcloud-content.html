<div id="nextcloud-content" class="sniplet nextcloud nextcloud-content">
    <!-- url connect -->
    <div ng-if="vm.nextcloudUrl">
        <i18n>nextcloud.url.connect</i18n> &#58; <a target="_blank" ng-href="[[vm.nextcloudUrl]]">[[vm.nextcloudUrl]]</a>
    </div>

    <!-- dropzone action file -->
    <dropzone-overlay
            ng-if="vm.isDropzoneEnabled()"
            on-import="vm.upload.onImportFiles($event)"
            can-drop="vm.canDropOnFolder()"
            on-cannot-drop="vm.onCannotDropFile()">
    </dropzone-overlay>

    <!-- list of documents -->
    <article class="icons-view no-overflow no-margin-bottom ng-scope height-minus300" ng-if="vm.isLoaded" ng-show="vm.documents.length > 0">
        <explorer class="radius explorer-hover"
                  ng-repeat="content in vm.documents"
                  ng-model="content.selected"
                  ng-change="vm.onSelectContent(content)"
                  on-open="vm.onOpenContent(content)"
                  dragstart="vm.draggable.dragStartHandler($originalEvent, content)"
                  dragdrop="vm.draggable.dragDropHandler($originalEvent, content)"
                  dragend="vm.draggable.dragEndHandler($originalEvent, content)"
                  dropcondition="vm.draggable.dropConditionHandler($originalEvent, content)">
            <legend class="no-1d">
                <a>
                    <span tooltip-on-ellipsis="[[content.name]]">[[content.name]]</span>
                </a>
            </legend>

            <a class="container" ng-switch="content.role">
                <!-- img format -->
                <div ng-switch-when="img" class="twelve cell">
                    <div class="clip">
                        <img ng-src="[[vm.getFile(content)]]" alt="thumbnail" src="" width="117" height="115"/>
                    </div>
                </div>

                <!-- folder format -->
                <div ng-switch-when="folder">
                    <i class="folder-large"></i>
                </div>
                
                <!-- default file todo pdf-large is example but also unknown-large -->
                <i ng-switch-default class="unknown-large"></i>
            </a>
        </explorer>
    </article>

    <!-- empty state -->
    <div class="emptyscreen-nextcloud" ng-if="vm.isLoaded" ng-show="!vm.documents.length">
        <h2 class="emptyscreen-header">
            <i18n>empty.workspace.subfolder.title</i18n>
        </h2>

        <img class="emptyscreen-image__mini" src="/workspace/public/img/empty-workspace.svg" alt="">

        <p class="emptyscreen-footer">
            <i18n>empty.workspace</i18n>
        </p>
    </div>

    <!-- toolbar -->
    <div ng-include="'/nextcloud/public/template/behaviours/sniplet-nextcloud-content/toolbar/workspace-nextcloud-toolbar.html'"></div>

    <!-- upload file popup -->
    <div ng-include="'/nextcloud/public/template/behaviours/sniplet-nextcloud-content/content/workspace-nextcloud-upload-file.html'"></div>
</div>

